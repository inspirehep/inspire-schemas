{
    "$schema": "http://json-schema.org/schema#",
    "additionalProperties": false,
    "description": "An article or thesis or book or...",
    "properties": {
        "$schema": {
            "format": "url",
            "type": "string"
        },
        "_collections": {
            "items": {
                "type": "string"
            },
            "type": "array"
        },
        "_desy_bookkeeping": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "date": {
                        "type": "string"
                    },
                    "expert": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "type": "array"
        },
        "_export_to": {
            "additionalProperties": false,
            "properties": {
                "CDS": {
                    "type": "boolean"
                },
                "HAL": {
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "_fft": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "comment": {
                        "type": "string"
                    },
                    "creation_datetime": {
                        "format": "date-time",
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "filename": {
                        "type": "string"
                    },
                    "flags": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array"
                    },
                    "format": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },
                    "send_back": {
                        "type": "boolean"
                    },
                    "status": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    },
                    "version": {
                        "type": "integer"
                    }
                },
                "type": "object"
            },
            "type": "array"
        },
        "_files": {
            "items": {
                "description": "Describe information needed for files in records.",
                "properties": {
                    "bucket": {
                        "type": "string"
                    },
                    "checksum": {
                        "type": "string"
                    },
                    "key": {
                        "type": "string"
                    },
                    "previewer": {
                        "description": "Identifier for previewer needed to preview this file.",
                        "type": "string"
                    },
                    "size": {
                        "type": "integer"
                    },
                    "type": {
                        "description": "File type extension.",
                        "type": "string"
                    },
                    "version_id": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "type": "array"
        },
        "_private_notes": {
            "items": {
                "$ref": "elements/sourced_value.json"
            },
            "type": "array",
            "uniqueItems": true
        },
        "abstracts": {
            "items": {
                "$ref": "elements/sourced_value.json"
            },
            "type": "array",
            "uniqueItems": true
        },
        "accelerator_experiments": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "accelerator": {
                        "type": "string"
                    },
                    "curated_relation": {
                        "default": false,
                        "description": "Was the experiment actually proofchecked by a cataloguer?",
                        "type": "boolean"
                    },
                    "experiment": {
                        "type": "string"
                    },
                    "institution": {
                        "type": "string"
                    },
                    "legacy_name": {
                        "type": "string"
                    },
                    "record": {
                        "$ref": "elements/json_reference.json",
                        "description": "URI for the corresponding experiment record."
                    }
                },
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "acquisition_source": {
            "$ref": "elements/acquisition_source.json"
        },
        "arxiv_eprints": {
            "description": "Read only meta-data (identifiers and categories) coming from arXiv",
            "items": {
                "additionalProperties": false,
                "properties": {
                    "categories": {
                        "items": {
                            "$ref": "elements/arxiv_categories.json"
                        },
                        "minItems": 1,
                        "type": "array",
                        "uniqueItems": true
                    },
                    "value": {
                        "description": "arXiv eprint number, e.g. math.DG/0307245 or 1701.01431",
                        "pattern": "^\\d{4}.\\d{4,5}|[\\w.]+(-[\\w.]+)?/\\d+$",
                        "type": "string"
                    }
                },
                "required": [
                    "categories",
                    "value"
                ],
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "authors": {
            "description": "Anybody who has acted on a given document (including supervisors, editors, etc.)",
            "items": {
                "additionalProperties": false,
                "properties": {
                    "affiliations": {
                        "items": {
                            "additionalProperties": false,
                            "properties": {
                                "curated_relation": {
                                    "description": "Does this affiliation point to the correct Institution?",
                                    "type": "boolean"
                                },
                                "record": {
                                    "$ref": "elements/json_reference.json",
                                    "description": "URI for the Institution collection record"
                                },
                                "value": {
                                    "description": "The normalized affiliation, i.e. the institution identifier.",
                                    "type": "string"
                                }
                            },
                            "required": [
                                "value"
                            ],
                            "title": "Affiliation",
                            "type": "object"
                        },
                        "title": "Affiliations",
                        "type": "array",
                        "uniqueItems": true
                    },
                    "alternative_names": {
                        "items": {
                            "description": "E.g. '\u697c \u7acb\u6d0b', or 'Smith, Joe John'",
                            "type": "string"
                        },
                        "type": "array"
                    },
                    "credit_roles": {
                        "items": {
                            "description": "CRediT http://dictionary.casrai.org/Contributor_Roles role for authors",
                            "enum": [
                                "Conceptualization",
                                "Data curation",
                                "Formal analysis",
                                "Funding acquisition",
                                "Investigation",
                                "Methodology",
                                "Project administration",
                                "Resources",
                                "Software",
                                "Supervision",
                                "Validation",
                                "Visualization",
                                "Writing - original draft",
                                "Writing - review & editing"
                            ],
                            "type": "string"
                        },
                        "type": "array"
                    },
                    "curated_relation": {
                        "default": false,
                        "description": "Does this signature point to the correct author profile?",
                        "title": "The relation is curated?",
                        "type": "boolean"
                    },
                    "emails": {
                        "items": {
                            "format": "email",
                            "type": "string"
                        },
                        "type": "array"
                    },
                    "full_name": {
                        "description": "'family names, first names' of the author (as they appear on the paper)",
                        "title": "Author name",
                        "type": "string"
                    },
                    "ids": {
                        "items": {
                            "$ref": "elements/id.json"
                        },
                        "type": "array",
                        "uniqueItems": true
                    },
                    "inspire_roles": {
                        "items": {
                            "default": "author",
                            "enum": [
                                "author",
                                "supervisor",
                                "editor"
                            ],
                            "type": "string"
                        },
                        "type": "array"
                    },
                    "raw_affiliations": {
                        "items": {
                            "$ref": "elements/sourced_value.json"
                        },
                        "type": "array",
                        "uniqueItems": true
                    },
                    "record": {
                        "$ref": "elements/json_reference.json",
                        "description": "URI for the person record",
                        "title": "URI for the person record"
                    },
                    "uuid": {
                        "description": "Signature identifier. (read-only)",
                        "pattern": "^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",
                        "title": "UUID",
                        "type": "string"
                    }
                },
                "required": [
                    "full_name"
                ],
                "title": "Author",
                "type": "object"
            },
            "title": "Authors",
            "type": "array",
            "uniqueItems": true
        },
        "book_series": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "title": {
                        "description": "Title of the book series",
                        "type": "string"
                    },
                    "volume": {
                        "description": "Specific volume number",
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "type": "array"
        },
        "citeable": {
            "description": "Whether this document can be cited. FIXME: can this be derived from other properties?",
            "title": "Citeable?",
            "type": "boolean"
        },
        "collaborations": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "record": {
                        "$ref": "elements/json_reference.json"
                    },
                    "value": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "required": [
                "value"
            ],
            "type": "array",
            "uniqueItems": true
        },
        "control_number": {
            "type": "integer"
        },
        "copyright": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "holder": {
                        "description": "Copyright holder.",
                        "type": "string"
                    },
                    "material": {
                        "$ref": "elements/material.json"
                    },
                    "statement": {
                        "description": "FIXME: What's that? there are all sorts of usages on production!",
                        "type": "string"
                    },
                    "url": {
                        "format": "url",
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "type": "array"
        },
        "core": {
            "description": "Whether this document is CORE and hence need special curation. NOTE: set this explicitly to false, in order to have real noncore.",
            "type": "boolean"
        },
        "corporate_author": {
            "items": {
                "title": "Corporate author",
                "type": "string"
            },
            "title": "Corporate authors",
            "type": "array",
            "uniqueItems": true
        },
        "deleted": {
            "type": "boolean"
        },
        "deleted_records": {
            "description": "List of deleted records referring to this record",
            "items": {
                "$ref": "elements/json_reference.json"
            },
            "title": "Deleted Records",
            "type": "array"
        },
        "document_type": {
            "items": {
                "enum": [
                    "article",
                    "book",
                    "book chapter",
                    "conference paper",
                    "note",
                    "proceedings",
                    "report",
                    "thesis"
                ],
                "type": "string"
            },
            "minItems": 1,
            "type": "array",
            "uniqueItems": true
        },
        "dois": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "material": {
                        "$ref": "elements/material.json"
                    },
                    "source": {
                        "$ref": "elements/source.json"
                    },
                    "value": {
                        "pattern": "^10\\.\\d+(\\.\\d+)?/.+$",
                        "title": "DOI",
                        "type": "string"
                    }
                },
                "required": [
                    "value"
                ],
                "title": "DOI",
                "type": "object"
            },
            "title": "DOIs",
            "type": "array",
            "uniqueItems": true
        },
        "edition": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "edition": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "energy_ranges": {
            "description": "Ranges of energies the record refers to",
            "items": {
                "minimum": 0,
                "type": "integer"
            },
            "type": "array"
        },
        "external_system_identifiers": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "schema": {
                        "type": "string"
                    },
                    "value": {
                        "type": "string"
                    }
                },
                "required": [
                    "schema",
                    "value"
                ],
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "funding_info": {
            "description": "Information related to funding. FIXME: Do we care about this? So far only 349 records were tagged and all for a single EU project.",
            "items": {
                "additionalProperties": false,
                "properties": {
                    "agency": {
                        "title": "Agency",
                        "type": "string"
                    },
                    "grant_number": {
                        "title": "Grant number",
                        "type": "string"
                    },
                    "project_number": {
                        "title": "Project number",
                        "type": "string"
                    }
                },
                "title": "Grant information",
                "type": "object"
            },
            "title": "Funding information",
            "type": "array",
            "uniqueItems": true
        },
        "imprints": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "date": {
                        "format": "date",
                        "type": "string"
                    },
                    "place": {
                        "type": "string"
                    },
                    "publisher": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "inspire_categories": {
            "items": {
                "$ref": "elements/inspire_field.json"
            },
            "type": "array",
            "uniqueItems": true
        },
        "isbns": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "medium": {
                        "enum": [
                            "hardcover",
                            "online",
                            "print",
                            "softcover"
                        ],
                        "type": "string"
                    },
                    "value": {
                        "pattern": "^\\d*[0-9X]$",
                        "type": "string"
                    }
                },
                "required": [
                    "value"
                ],
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "keywords": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "schema": {
                        "description": "The particular vocabulary against which this keyword is valid and found. Leave empty for free form keywords",
                        "enum": [
                            "INSPIRE",
                            "JACOW",
                            "PACS",
                            "PDG"
                        ],
                        "type": "string"
                    },
                    "source": {
                        "$ref": "elements/source.json"
                    },
                    "value": {
                        "type": "string"
                    }
                },
                "required": [
                    "value"
                ],
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "languages": {
            "items": {
                "pattern": "^\\w{2}$",
                "title": "Language",
                "type": "string"
            },
            "type": "array"
        },
        "legacy_creation_date": {
            "format": "date-time",
            "type": "string"
        },
        "license": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "imposing": {
                        "description": "FIXME: what is this!?",
                        "title": "Imposing",
                        "type": "string"
                    },
                    "license": {
                        "title": "License name",
                        "type": "string"
                    },
                    "material": {
                        "$ref": "elements/material.json"
                    },
                    "url": {
                        "format": "url",
                        "title": "URL of the license",
                        "type": "string"
                    }
                },
                "title": "License",
                "type": "object"
            },
            "title": "License information",
            "type": "array",
            "uniqueItems": true
        },
        "new_record": {
            "$ref": "elements/json_reference.json",
            "description": "Master record that replaces this record",
            "title": "New record"
        },
        "number_of_pages": {
            "minimum": 1,
            "type": "integer"
        },
        "persistent_identifiers": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "material": {
                        "$ref": "elements/material.json"
                    },
                    "schema": {
                        "enum": [
                            "HDL",
                            "URN"
                        ],
                        "type": "string"
                    },
                    "source": {
                        "$ref": "elements/source.json"
                    },
                    "value": {
                        "title": "Value of the persistent identifier",
                        "type": "string"
                    }
                },
                "required": [
                    "schema",
                    "value"
                ],
                "title": "Persistent Identifier",
                "type": "object"
            },
            "title": "Persistent Identifiers",
            "type": "array",
            "uniqueItems": true
        },
        "preprint_date": {
            "format": "date",
            "type": "string"
        },
        "public_notes": {
            "items": {
                "$ref": "elements/sourced_value.json"
            },
            "type": "array",
            "uniqueItems": true
        },
        "publication_info": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "artid": {
                        "description": "Electronic Article ID",
                        "type": "string"
                    },
                    "cnum": {
                        "$ref": "elements/cnum.json"
                    },
                    "conf_acronym": {
                        "type": "string"
                    },
                    "conference_record": {
                        "$ref": "elements/json_reference.json",
                        "description": "URI for corresponding Conference"
                    },
                    "confpaper_info": {
                        "type": "string"
                    },
                    "curated_relation": {
                        "type": "boolean"
                    },
                    "journal_issue": {
                        "type": "string"
                    },
                    "journal_record": {
                        "$ref": "elements/json_reference.json",
                        "description": "URI for corresponding Journal"
                    },
                    "journal_title": {
                        "type": "string"
                    },
                    "journal_volume": {
                        "type": "string"
                    },
                    "material": {
                        "$ref": "elements/material.json"
                    },
                    "page_end": {
                        "description": "Last page",
                        "type": "string"
                    },
                    "page_start": {
                        "description": "First page",
                        "type": "string"
                    },
                    "parent_isbn": {
                        "pattern": "^(97(8|9))?\\d{9}(\\d|X)$",
                        "type": "string"
                    },
                    "parent_record": {
                        "$ref": "elements/json_reference.json",
                        "description": "URI for the parent this record is part of"
                    },
                    "parent_report_number": {
                        "type": "string"
                    },
                    "pubinfo_freetext": {
                        "type": "string"
                    },
                    "year": {
                        "maximum": 2050,
                        "minimum": 1000,
                        "type": "integer"
                    }
                },
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "publication_type": {
            "items": {
                "enum": [
                    "introductory",
                    "lectures",
                    "review"
                ],
                "type": "string"
            },
            "type": "array"
        },
        "refereed": {
            "type": "boolean"
        },
        "references": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "curated_relation": {
                        "type": "boolean"
                    },
                    "raw_refs": {
                        "items": {
                            "additionalProperties": false,
                            "properties": {
                                "position": {
                                    "description": "The position of the reference as it appears on the document",
                                    "type": "string"
                                },
                                "schema": {
                                    "description": "E.g. text, or Elsevier XML, or refexract",
                                    "type": "string"
                                },
                                "source": {
                                    "$ref": "elements/source.json"
                                },
                                "value": {
                                    "type": "string"
                                }
                            },
                            "required": [
                                "value",
                                "schema"
                            ],
                            "type": "object"
                        },
                        "type": "array"
                    },
                    "record": {
                        "$ref": "elements/json_reference.json"
                    },
                    "reference": {
                        "$ref": "elements/reference.json"
                    }
                },
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "report_numbers": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "hidden": {
                        "type": "boolean"
                    },
                    "source": {
                        "$ref": "elements/source.json"
                    },
                    "value": {
                        "type": "string"
                    }
                },
                "required": [
                    "value"
                ],
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "self": {
            "$ref": "elements/json_reference.json",
            "description": "Url of the record itself",
            "title": "Url of the record"
        },
        "special_collections": {
            "items": {
                "enum": [
                    "CDF-INTERNAL-NOTE",
                    "CDF-NOTE",
                    "D0-INTERNAL-NOTE",
                    "D0-PRELIMINARY-NOTE",
                    "H1-INTERNAL-NOTE",
                    "H1-PRELIMINARY-NOTE",
                    "HALHIDDEN",
                    "HEPHIDDEN",
                    "HERMES-INTERNAL-NOTE",
                    "LARSOFT-INTERNAL-NOTE",
                    "LARSOFT-NOTE",
                    "ZEUS-INTERNAL-NOTE",
                    "ZEUS-PRELIMINARY-NOTE"
                ],
                "type": "string"
            },
            "type": "array",
            "uniqueItems": true
        },
        "succeeding_entry": {
            "additionalProperties": false,
            "description": "Reference to previously merged records.",
            "properties": {
                "isbn": {
                    "pattern": "^(97(8|9))?\\d{9}(\\d|X)$",
                    "type": "string"
                },
                "record": {
                    "$ref": "elements/json_reference.json"
                },
                "relationship_code": {
                    "type": "string"
                }
            },
            "type": "object"
        },
        "texkeys": {
            "items": {
                "type": "string"
            },
            "type": "array",
            "uniqueItems": true
        },
        "thesis_info": {
            "additionalProperties": false,
            "properties": {
                "date": {
                    "format": "date",
                    "type": "string"
                },
                "defense_date": {
                    "format": "date",
                    "type": "string"
                },
                "degree_type": {
                    "$ref": "elements/degree_type.json"
                },
                "institutions": {
                    "items": {
                        "additionalProperties": false,
                        "properties": {
                            "curated_relation": {
                                "type": "boolean"
                            },
                            "name": {
                                "type": "string"
                            },
                            "record": {
                                "$ref": "elements/json_reference.json",
                                "description": "URI of the matched insitution record."
                            }
                        },
                        "type": "object"
                    },
                    "type": "array"
                }
            },
            "type": "object"
        },
        "title_translations": {
            "items": {
                "additionalProperties": false,
                "properties": {
                    "language": {
                        "pattern": "^\\w{2}$",
                        "type": "string"
                    },
                    "source": {
                        "$ref": "elements/source.json"
                    },
                    "subtitle": {
                        "type": "string"
                    },
                    "title": {
                        "type": "string"
                    }
                },
                "type": "object"
            },
            "type": "array",
            "uniqueItems": true
        },
        "titles": {
            "items": {
                "$ref": "elements/title.json"
            },
            "type": "array",
            "uniqueItems": true
        },
        "urls": {
            "items": {
                "$ref": "elements/url.json"
            },
            "type": "array",
            "uniqueItems": true
        },
        "withdrawn": {
            "type": "boolean"
        }
    },
    "required": [
        "document_type",
        "titles"
    ],
    "title": "Publication",
    "type": "object"
}
